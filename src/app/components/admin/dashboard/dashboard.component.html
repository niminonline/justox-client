<app-admin-navbar></app-admin-navbar>

<h1 class="title">Dashboard</h1>
<div class="main-body">
  <div class="add-floating-button" title="Add user">
    <button
      mat-fab
      color="primary"
      aria-label="user add button"
      (click)="addUser()"
    >
      <mat-icon>add</mat-icon>
    </button>
  </div>
  <div class="search-block">
    <mat-form-field class="search-field-block">
      <mat-label>Search</mat-label>
      <input
        matInput
        type="text"
        [(ngModel)]="searchString"
        (ngModelChange)="doSearch()"
        placeholder="Search username or email or mobile"
      />
      <button
        *ngIf="searchString"
        matSuffix
        mat-icon-button
        aria-label="Clear"
        (click)="clearSearch()"
      >
        <mat-icon>close</mat-icon>
      </button>
    </mat-form-field>
  </div>

  <div class="display-users">
  
    <mat-card class="user-card" *ngFor="let item of usersData">
      <mat-card-header class="card-header">
        <div
          mat-card-avatar
          class="user-avatar"
          [ngStyle]="{
          'background-image': 'url(' + imageUrl + item.image + ')',
          'background-size': 'cover',
          'background-position': 'center',
          'margin-bottom': '0px'
        }"
        ></div>
        <mat-card-title>{{ item.username }}</mat-card-title>
        <!-- <mat-card-subtitle> </mat-card-subtitle> -->
      </mat-card-header>
      <img
        mat-card-image
        class="user-image"
        src="{{ imageUrl }}{{ item.image }}"
        alt="User image"
      />
      <mat-card-content>
        <div class="row">
          <div class="head">
            <h4><strong>Email:</strong></h4>
          </div>
          <div class="content">
            <h4>{{ item.email }}</h4>
          </div>
        </div>
        <div class="row">
          <div class="head">
            <h4><strong>Mobile:</strong></h4>
          </div>
          <div class="content">
            <h4>{{ item.mobile }}</h4>
          </div>
        </div>
      </mat-card-content>
      <mat-card-actions>
        <button mat-raised-button color="primary" (click)="editUser(item._id)">
          Edit
        </button>
        <button mat-raised-button color="warn" (click)="deleteUser(item._id)">
          Delete
        </button>
      </mat-card-actions>
    </mat-card>
  </div>
</div>
